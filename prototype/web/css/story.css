/* Un Día Más - Story Elements */

/* ==========================================
   TEXTO NARRATIVO
   ========================================== */
.story-text {
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
    max-width: 65ch;
}

/* ==========================================
   GABINETE DE VOCES (Thought Cabinet)
   ========================================== */
.voice-line {
    font-family: var(--font-mono);
    font-size: 0.9rem;
    padding: 15px;
    margin: 2rem -20px; /* Rompe los márgenes laterales */
    border: var(--border-width) solid var(--fg);
    background: var(--surface);
    box-shadow: var(--shadow-solid) var(--shadow-color);
    position: relative;
    max-width: calc(100% + 40px);
}

/* Voz: Inseguridad (Error de sistema) */
.voice-inseguridad {
    border-style: dashed;
    color: var(--muted);
}
.voice-inseguridad::before {
    content: "// ERROR_LOG: INSEGURIDAD";
    display: block;
    font-size: 0.7em;
    font-weight: bold;
    margin-bottom: 5px;
    opacity: 0.7;
}

/* Voz: Política (Análisis) */
.voice-politica {
    border-color: var(--accent);
    color: var(--accent);
    font-weight: bold;
}
.voice-politica::before {
    content: "★ ANÁLISIS ESTRUCTURAL";
    display: block;
    font-size: 0.7em;
    margin-bottom: 5px;
    color: var(--fg);
}

/* Voz: Bruno (Advertencia) */
.voice-bruno {
    background: repeating-linear-gradient(
        45deg,
        var(--bg),
        var(--bg) 10px,
        var(--muted) 10px,
        var(--muted) 20px
    );
    color: var(--fg);
    text-align: center;
    font-weight: 900;
    text-transform: uppercase;
}
.voice-bruno span {
    background: var(--surface);
    padding: 5px 10px;
    border: 2px solid var(--fg);
}

/* Voz: Elena (Memoria) */
.voice-elena {
    font-family: var(--font-hand);
    font-size: 1.1rem;
    border: none;
    border-left: 4px solid var(--accent);
    background: transparent;
    box-shadow: none;
    font-style: italic;
}

/* ==========================================
   GLOSA (Tooltips)
   ========================================== */
.glossary-term {
    border-bottom: 2px dotted var(--accent);
    cursor: help;
    font-weight: 500;
    position: relative;
    transition: all 0.2s;
}

.glossary-term:hover {
    background: var(--accent);
    color: var(--bg);
    border-bottom-style: solid;
}

/* Tooltip nativo */
.glossary-tooltip {
    position: absolute;
    bottom: 120%;
    left: 50%;
    transform: translateX(-50%);
    width: 250px;
    background: var(--fg);
    color: var(--bg);
    padding: 10px;
    font-family: var(--font-mono);
    font-size: 0.8rem;
    font-weight: normal;
    border: 2px solid var(--accent);
    z-index: 1000;
    box-shadow: 5px 5px 0 rgba(0,0,0,0.5);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s;
}

.glossary-term:hover .glossary-tooltip {
    opacity: 1;
}

/* Animaciones de Texto (TextPresenter) */
.tp-paragraph {
    opacity: 0;
    transform: translateY(10px);
}

.tp-paragraph.tp-visible {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.tp-paragraph.tp-instant {
    opacity: 1;
    transform: none;
    transition: none;
}